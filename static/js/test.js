// Generated by CoffeeScript 1.8.0
(function() {
  define(["main"], function(main) {
    var initialize, loadPartialView, self;
    initialize = function() {
      var button;
      button = document.getElementById('load-partials');
      button.onclick = loadPartialView;
      $('.ui.dropdown').dropdown();
      return true;
    };
    loadPartialView = function(e) {
      var self, url, xhr;
      e.preventDefault();
      self = this;
      $(self).addClass('loading');
      xhr = new XMLHttpRequest();
      xhr.addEventListener("error", function(e) {
        return alert("error");
      }, false);
      xhr.addEventListener("timeout", function(e) {
        return alert("timed out");
      }, false);
      xhr.addEventListener("abort", function(e) {
        return alert("abort");
      }, false);
      xhr.addEventListener("readystatechange", function() {
        var div, results;
        if (this.readyState === 4) {
          if (this.status === 200) {
            results = this.responseText;
            div = document.getElementById('partial-content');
            $(div).html(results);
            $(self).removeClass('loading');
            return true;
          }
        }
      }, false);
      url = '/partials/test';
      xhr.open("get", url, true);
      return xhr.send(null);
    };
    return self = {
      initialize: initialize,
      loadPartialView: loadPartialView
    };
  });

}).call(this);
